{% extends '/dashboard/base2.html.twig' %}

{% block title %}Détails de l'Utilisateur - {{ user.nom }} {{ user.prenom }}{% endblock %}

{% block content %}
<div class="container-fluid" style="margin-top: -35%;">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-header bg-gradient-primary text-white text-center py-4">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="profile-image-container mr-4">
                            <img src="{{ user.imageProfil ?: asset('back/img/profile.jpg') }}" 
                                 alt="Photo de profil" 
                                 class="rounded-circle profile-image" 
                                 style="width: 120px; height: 120px; object-fit: cover;">
                        </div>
                        <div>
                            <h2 class="mb-1 font-weight-bold">{{ user.nom }} {{ user.prenom }}</h2>
                            <p class="mb-0 text-white-50">{{ user.role }}</p>
                        </div>
                    </div>
                </div>
                
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <tbody>
                                <tr>
                                    <th class="bg-light">Email</th>
                                    <td>
                                        <i class="fas fa-envelope mr-2 text-primary"></i>
                                        {{ user.email }}
                                    </td>
                                </tr>
                                                                <tr>
                                    <th class="bg-light">Role</th>
                                    <td>
                                        <i class="fas fa-envelope mr-2 text-primary"></i>
                                        {{ user.role }}
                                    </td>
                                </tr>
                                <tr>
                                    <th class="bg-light">Sexe</th>
                                    <td>
                                        <i class="fas fa-venus-mars mr-2 text-info"></i>
                                        {{ user.sexe }}
                                    </td>
                                </tr>
                                <tr>
                                    <th class="bg-light">Adresse</th>
                                    <td>
                                        <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                        <p class="mb-0" style="white-space: pre-wrap;">{{ user.adresse }}</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="card-footer text-center bg-light">
                    <div class="btn-group" role="group" aria-label="User Actions">
                        <a href="{{ path('app_user_index') }}" class="btn btn-secondary mr-2">
                            <i class="fas fa-arrow-left mr-2"></i>Retour à la liste
                        </a>
                        <a href="{{ path('app_user_edit', {'iduser': user.idUser}) }}" class="btn btn-warning mr-2">
                            <i class="far fa-edit mr-2"></i>Modifier
                        </a>
                        <form method="post" action="{{ path('app_user_delete', {'iduser': user.idUser}) }}" 
                              style="display: inline;" 
                              onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet utilisateur ?');">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ user.idUser) }}">
                            <button type="submit" class="btn btn-danger">
                                <i class="far fa-trash-alt mr-2"></i>Supprimer
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Custom Styles */
    .bg-gradient-primary {
        background: linear-gradient(to right, #4e73df 0%, #224abe 100%);
    }
    
    .profile-image {
        border: 4px solid rgba(255,255,255,0.2);
        box-shadow: 0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08);
    }
    
    .table-striped tbody tr:nth-of-type(odd) {
        background-color: rgba(0,0,0,.05);
    }
    
    .btn-danger:hover {
        background-color: #c82333;
        border-color: #bd2130;
    }
</style>
{% endblock %}