parameters:
  image_directory: "%kernel.project_dir%/public/img"
  uploads_directory: "%kernel.project_dir%/public/uploads"
  google_client_id: "%env(GOOGLE_CLIENT_ID)%"
services:
  _defaults:
    autowire: true
    autoconfigure: true

  App\Service\MailService: ~

  # Makes classes in src/ available to be used as services
  # This creates a service per class whose id is the fully-qualified class name
  App\:
    resource: "../src/"
    exclude:
      - "../src/DependencyInjection/"
      - "../src/Entity/"
      - "../src/Kernel.php"

  App\Services\GoogleAuthenticator:
    arguments:
      $clientRegistry: "@knpu.oauth2.registry"
      $entityManager: "@doctrine.orm.entity_manager"
      $router: "@router"
      $jwtManager: "@lexik_jwt_authentication.jwt_manager"
    tags: ["monolog.logger"]
